@tailwind base;
@tailwind components;
@tailwind utilities;

/* Root theme tokens */
:root { color-scheme: dark; --rs-accent:#38bdf8; --rs-accent-glow:#0ea5e9; --rs-bg:#06080b; --rs-bg-alt:#0d1117; 
	/* motion + timing tokens */
	--rs-ease-emph: cubic-bezier(.4,.16,.2,1);
	--rs-ease-soft: cubic-bezier(.33,.66,.12,1);
	--rs-dur-xs: 90ms; --rs-dur-sm: 160ms; --rs-dur-md: 300ms; --rs-dur-lg: 560ms;
	--rs-focus-ring: 0 0 0 2px rgba(255,255,255,0.5),0 0 0 4px var(--rs-accent-glow);
}

html,body { background: radial-gradient(circle at 20% 20%, #0d1b26 0%, #06080b 55%) fixed; color: #f5f7fa; -webkit-font-smoothing: antialiased; }
body { font-feature-settings: 'ss01' 1, 'liga' 1; }

/* HERO AREA -------------------------------------------------- */
.hero-shell { position:relative; overflow:hidden; min-height:420px; }
.hero-bg { position:absolute; inset:0; background:linear-gradient(125deg,#012a46,#041f31 35%,#082c4a 65%,#02131f); }
.hero-overlay { position:absolute; inset:0; pointer-events:none; }
.hero-overlay:before { content:""; position:absolute; inset:-10%; background:radial-gradient(circle at 55% 40%,rgba(56,189,248,0.22),transparent 60%), radial-gradient(circle at 20% 75%,rgba(14,165,233,0.18),transparent 55%), radial-gradient(circle at 85% 70%,rgba(14,165,233,0.14),transparent 60%); mix-blend-mode:screen; animation: heroPulse 14s ease-in-out infinite; }
.hero-overlay:after { content:""; position:absolute; inset:0; background:linear-gradient(to bottom,rgba(4,12,20,0) 0%,rgba(4,12,20,.55) 60%,rgba(4,12,20,.9) 85%); }

/* Animated aurora bands */
.hero-aurora { position:absolute; top:-40%; left:-10%; width:140%; height:180%; background:conic-gradient(from 90deg at 50% 50%, rgba(56,189,248,0.0), rgba(56,189,248,0.25), rgba(14,165,233,0.05), rgba(56,189,248,0.0)); filter:blur(90px) saturate(140%); opacity:.55; animation: auroraSpin 28s linear infinite; }
.hero-aurora:nth-child(2){ animation-direction:reverse; animation-duration:45s; opacity:.35; mix-blend-mode:screen; }

/* Particle dots */
.hero-particles { position:absolute; inset:0; background:radial-gradient(circle at 10% 15%,rgba(255,255,255,0.20) 0,transparent 55%), radial-gradient(circle at 80% 30%,rgba(255,255,255,0.15) 0,transparent 60%), radial-gradient(circle at 35% 70%,rgba(255,255,255,0.17) 0,transparent 55%); opacity:.20; mix-blend-mode:overlay; animation: particlesDrift 38s linear infinite; }

/* Noise texture subtle */
.hero-noise { position:absolute; inset:0; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.65' stitchTiles='stitch' type='fractalNoise'/%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23n)' opacity='.14'/%3E%3C/svg%3E"); mix-blend-mode:overlay; pointer-events:none; }

.hero-content { position:relative; z-index:10; }

/* TYPOGRAPHY ------------------------------------------------- */
.display-title { font-family:var(--font-display, 'Plus Jakarta Sans', 'Inter', sans-serif); font-size:clamp(2.6rem,5.2vw,4.2rem); font-weight:700; letter-spacing:-0.035em; line-height:1.05; background:linear-gradient(90deg,#e2f7ff 0%,#bfe8ff 25%,#8bd5ff 55%,#e2f7ff 90%); -webkit-background-clip:text; background-clip:text; color:transparent; filter:drop-shadow(0 6px 18px rgba(14,165,233,0.18)); position:relative; }
.display-title:after { content:""; position:absolute; left:0; bottom:-10px; height:4px; width:120px; background:linear-gradient(90deg,#38bdf8,#0ea5e9 60%,transparent); border-radius:4px; box-shadow:0 0 0 1px rgba(56,189,248,0.4),0 0 22px -2px rgba(56,189,248,0.65); }

.subheading { font-size:clamp(.95rem,1.45vw,1.15rem); font-weight:500; letter-spacing:.015em; color:#d0e7f7; max-width:54ch; text-shadow:0 2px 6px rgba(0,0,0,0.35); }

/* UTILS ------------------------------------------------------ */
.surface-card { background:linear-gradient(145deg,rgba(255,255,255,0.9),rgba(248,250,252,0.82)); -webkit-backdrop-filter:blur(14px); backdrop-filter:blur(14px); position:relative; border:1px solid rgba(15,23,42,0.08); border-radius:18px; padding:1.15rem 1.15rem 1.2rem; box-shadow:0 1px 2px rgba(15,23,42,0.08),0 4px 12px -2px rgba(15,23,42,0.12); transition:box-shadow .28s cubic-bezier(.4,.16,.2,1), border-color .28s, transform .28s; overflow:hidden; }
.surface-card:before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(56,189,248,0.18),rgba(14,165,233,0) 40%); opacity:0; transition:opacity .4s; pointer-events:none; }
.surface-card:hover { box-shadow:0 6px 18px -4px rgba(15,23,42,0.20),0 14px 34px -10px rgba(15,23,42,0.30); border-color:rgba(56,189,248,0.45); }
.surface-card:hover:before { opacity:.55; }
.surface-card:focus-visible { outline:2px solid rgba(56,189,248,0.6); outline-offset:2px; }
.status-badge { text-transform:uppercase; font-size:10px; font-weight:600; letter-spacing:.08em; padding:4px 8px; border-radius:999px; background:linear-gradient(90deg,#0f172a,#1e293b); color:#fff; box-shadow:0 0 0 1px rgba(255,255,255,0.08),0 2px 4px -1px rgba(0,0,0,.4); }
.status-green { background:linear-gradient(90deg,#059669,#10b981); }
.status-yellow { background:linear-gradient(90deg,#ca8a04,#f59e0b); }
.status-red { background:linear-gradient(90deg,#dc2626,#ef4444); }

/* Animations ------------------------------------------------- */
@keyframes auroraSpin { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }
@keyframes heroPulse { 0%,100% { opacity:.85; } 50% { opacity:.55; } }
@keyframes particlesDrift { 0% { transform:translate3d(0,0,0); } 100% { transform:translate3d(-4%, -6%, 0); } }
@keyframes floatSoft { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-10px); } }
@keyframes shimmerLine { 0% { transform:translateX(-60%); } 100% { transform:translateX(160%); } }

/* Accessibility helpers */
@media (prefers-reduced-motion: reduce) {
	.hero-aurora, .hero-overlay:before, .hero-particles { animation:none !important; }
}

/* Summary-sources */
.summary-sources > summary::-webkit-details-marker { display: none; }
.summary-sources > summary { list-style: none; }
.summary-sources ul li { border-left: 2px solid #e5e7eb; padding-left: 6px; }
.summary-sources ul li:hover { border-color: #cbd5e1; }

/* SUMMARY TILES -------------------------------------------------- */
.summary-grid { display:grid; gap:1.5rem; }
@media (min-width: 768px){ .summary-grid { grid-template-columns:repeat(3,1fr); } }

.summary-tile { position:relative; display:flex; flex-direction:column; background:linear-gradient(155deg,rgba(255,255,255,0.97),rgba(245,249,255,0.9) 55%,rgba(230,243,255,0.88)); border:1px solid rgba(15,23,42,0.08); border-radius:22px; padding:1.15rem 1.1rem 1.25rem; box-shadow:0 2px 4px rgba(15,23,42,0.08),0 10px 28px -8px rgba(15,23,42,0.35); overflow:hidden; isolation:isolate; transition:box-shadow .45s cubic-bezier(.4,.16,.2,1), transform .45s, border-color .45s; }
.summary-tile:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 18% 22%,rgba(56,189,248,0.35),transparent 65%), radial-gradient(circle at 82% 78%,rgba(14,165,233,0.25),transparent 70%); opacity:0; mix-blend-mode:color-dodge; transition:opacity .6s; pointer-events:none; }
.summary-tile:after { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.35) 48%,rgba(255,255,255,0) 52%); transform:translateX(-60%); opacity:.0; animation: shimmerLine 7.2s ease-in-out infinite; }
.summary-tile:hover { box-shadow:0 6px 18px -4px rgba(15,23,42,0.25),0 18px 42px -12px rgba(15,23,42,0.45); border-color:rgba(56,189,248,0.55); transform:translateY(-4px); }
.summary-tile:hover:before { opacity:1; }
.summary-tile:hover:after { opacity:.9; animation-duration:4.5s; }
.summary-tile:focus-within { outline:2px solid var(--rs-accent); outline-offset:3px; }

.summary-tile-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:.85rem; }
.summary-tile-head h5 { font-size:.72rem; font-weight:700; letter-spacing:.12em; text-transform:uppercase; color:#0f172a; position:relative; }
.summary-pill { font-size:.65rem; font-weight:600; letter-spacing:.08em; text-transform:uppercase; display:inline-flex; align-items:center; gap:.4ch; padding:.4rem .65rem .38rem; border-radius:999px; background:linear-gradient(90deg,#0ea5e9,#0369a1); color:#fff; box-shadow:0 0 0 1px rgba(255,255,255,0.25),0 4px 14px -4px rgba(14,165,233,0.55); -webkit-backdrop-filter:blur(6px); backdrop-filter:blur(6px); }
.summary-pill::after { content:""; width:6px; height:6px; border-radius:50%; background:#fff; opacity:.85; box-shadow:0 0 0 1px rgba(255,255,255,0.35); animation:pulseDot 2.4s ease-in-out infinite; }

@keyframes pulseDot { 0%,100% { transform:scale(1); opacity:.85;} 50% { transform:scale(.55); opacity:.35;} }

.summary-content { font-size:.77rem; line-height:1.25rem; color:#1f2937; font-weight:500; letter-spacing:.01em; position:relative; z-index:1; }
.summary-content p { margin:0 0 .55rem; }
.summary-content ul { list-style:disc; margin:0 0 .55rem 1.1rem; }
.summary-content li { margin:.2rem 0; }
.summary-content strong { color:#0f172a; font-weight:700; }

/* SUMMARY SPOTLIGHT (new non-card visual treatment) */
.summary-spotlight { position:relative; padding:2.25rem 1.75rem 1.9rem 1.75rem; border-radius:34px; overflow:hidden; border:1px solid rgba(255,255,255,0.10); background:linear-gradient(150deg,rgba(9,25,34,0.92),rgba(8,30,44,0.78) 55%,rgba(6,22,34,0.72)); -webkit-backdrop-filter:blur(22px) saturate(160%); backdrop-filter:blur(22px) saturate(160%); box-shadow:0 8px 32px -10px rgba(0,0,0,0.65), inset 0 0 0 1px rgba(255,255,255,0.06); isolation:isolate; transition: box-shadow var(--rs-dur-md) var(--rs-ease-emph), border-color var(--rs-dur-md) var(--rs-ease-emph); }
.summary-spotlight:focus-within { outline:none; box-shadow:0 0 0 2px rgba(255,255,255,0.35), 0 0 0 4px var(--spot-ico-from,#38bdf8), 0 8px 32px -10px rgba(0,0,0,0.65), inset 0 0 0 1px rgba(255,255,255,0.10); }
.summary-spotlight:before { content:""; position:absolute; inset:-2px; background:radial-gradient(circle at 20% 18%, var(--spot-accent-bg, rgba(56,189,248,0.35)), transparent 60%), radial-gradient(circle at 85% 80%, var(--spot-accent-fade, rgba(14,165,233,0.22)), transparent 70%); mix-blend-mode:screen; opacity:.9; pointer-events:none; }
.summary-spotlight:after { content:""; position:absolute; left:0; top:0; bottom:0; width:5px; background:linear-gradient(180deg,var(--spot-bar-from,#38bdf8),var(--spot-bar-to,#0ea5e9)); box-shadow:0 0 0 1px rgba(255,255,255,0.15),0 0 18px -2px var(--spot-bar-from,#38bdf8); }
.summary-spotlight-head { display:flex; align-items:center; gap:.9rem; margin:0 0 1.1rem; }
.summary-spotlight-icon { width:48px; height:48px; border-radius:18px; display:inline-flex; align-items:center; justify-content:center; background:linear-gradient(135deg,var(--spot-ico-from,#38bdf8),var(--spot-ico-to,#0ea5e9)); color:#fff; box-shadow:0 4px 18px -4px var(--spot-ico-to,#0ea5e9), 0 0 0 1px rgba(255,255,255,0.35); position:relative; }
.summary-spotlight-icon:before { content:""; position:absolute; inset:0; border-radius:inherit; background:linear-gradient(135deg,rgba(255,255,255,0.35),rgba(255,255,255,0)); opacity:.35; mix-blend-mode:overlay; }
.summary-spotlight-title { font-size:clamp(1.2rem,1.9vw,1.65rem); font-weight:700; letter-spacing:-0.025em; line-height:1.15; background:linear-gradient(95deg,#ffffff,#e2f8ff 60%,#b6e6ff); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 4px 14px rgba(0,0,0,0.55); }
.summary-scope-tag { display:inline-block; margin-left:.65rem; font-size:.65em; letter-spacing:.06em; text-transform:uppercase; padding:.45em .7em .4em; border-radius:999px; background:rgba(255,255,255,0.12); color:#fff; font-weight:600; line-height:1; box-shadow:0 0 0 1px rgba(255,255,255,0.25), 0 2px 4px -1px rgba(0,0,0,0.45); -webkit-backdrop-filter:blur(6px) saturate(140%); backdrop-filter:blur(6px) saturate(140%); }
.summary-spotlight-body { font-size:.87rem; line-height:1.45rem; font-weight:500; color:#f1f9fc; text-shadow:0 1px 2px rgba(0,0,0,0.55); }
.summary-spotlight-body p { margin:0 0 .7rem; }
.summary-spotlight-body strong { color:#fff; text-shadow:0 1px 2px rgba(0,0,0,0.55); }
.summary-spotlight .summary-sources > summary { background:rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.22); color:#cfefff; transition:background var(--rs-dur-sm) var(--rs-ease-soft), color var(--rs-dur-sm) var(--rs-ease-soft), border-color var(--rs-dur-sm) var(--rs-ease-soft); }
.summary-spotlight .summary-sources > summary:hover { background:rgba(255,255,255,0.16); color:#ffffff; }
.summary-spotlight .summary-sources[open] > summary { background:linear-gradient(90deg,var(--spot-ico-from,#38bdf8),var(--spot-ico-to,#0ea5e9)); color:#fff; border-color:rgba(255,255,255,0.55); }
.summary-spotlight .summary-sources ul { background:rgba(3,24,36,0.72); border:1px solid rgba(255,255,255,0.14); box-shadow:0 2px 10px -2px rgba(0,0,0,0.55); -webkit-backdrop-filter:blur(6px) saturate(140%); backdrop-filter:blur(6px) saturate(140%); }
.summary-spotlight .summary-sources ul li { border-color:rgba(255,255,255,0.12); color:#d2edf9; transition:border-color var(--rs-dur-sm) var(--rs-ease-soft), color var(--rs-dur-sm) var(--rs-ease-soft); }
.summary-spotlight .summary-sources ul li:hover { border-color:var(--spot-ico-from,#38bdf8); color:#fff; }

/* FILTER CHIPS -------------------------------------------------- */
.filter-chip, .filter-chip-clear-all { position:relative; display:inline-flex; align-items:center; gap:.45rem; font-size:.65rem; font-weight:600; letter-spacing:.05em; text-transform:uppercase; padding:.55rem .85rem .5rem; border-radius:999px; background:linear-gradient(135deg,#f1f5f9,#fff); color:#0f172a; border:1px solid #cbd5e1; box-shadow:0 1px 2px rgba(0,0,0,0.08),0 4px 10px -2px rgba(0,0,0,0.08); transition:background var(--rs-dur-sm) var(--rs-ease-soft), box-shadow var(--rs-dur-sm) var(--rs-ease-soft), color var(--rs-dur-sm) var(--rs-ease-soft), border-color var(--rs-dur-sm) var(--rs-ease-soft); }
.filter-chip:hover { background:linear-gradient(135deg,#ffffff,#f1f9ff); border-color:#94a3b8; }
.filter-chip:focus-visible { outline:2px solid var(--rs-accent); outline-offset:2px; }
.filter-chip-label { font-weight:700; color:#0369a1; }
.filter-chip-close { font-size:.85em; line-height:1; padding:0 .15em; border-radius:4px; background:rgba(0,0,0,0.06); color:#475569; }
.filter-chip-close:hover { background:rgba(0,0,0,0.15); }
.filter-chip-clear-all { background:linear-gradient(135deg,#0ea5e9,#0369a1); color:#fff; border-color:#0ea5e9; box-shadow:0 2px 10px -2px rgba(14,165,233,0.55); }
.filter-chip-clear-all:hover { background:linear-gradient(135deg,#38bdf8,#0ea5e9); }
.filter-chip-accent { background:linear-gradient(135deg,#cffafe,#e0f2fe); color:#075985; border-color:#67e8f9; }
.filter-chip-accent:hover { background:linear-gradient(135deg,#e0f2fe,#cffafe); }
.filter-chip-objective { background:linear-gradient(135deg,#ede9fe,#f3e8ff); color:#4c1d95; border-color:#c4b5fd; }
.filter-chip-owner { background:linear-gradient(135deg,#fef3c7,#fffbeb); color:#92400e; border-color:#fcd34d; }
.filter-chip-status-green { background:linear-gradient(135deg,#d1fae5,#ecfdf5); color:#065f46; border-color:#6ee7b7; }
.filter-chip-status-yellow { background:linear-gradient(135deg,#fef9c3,#fef3c7); color:#92400e; border-color:#fde68a; }
.filter-chip-status-red { background:linear-gradient(135deg,#fee2e2,#ffe4e6); color:#991b1b; border-color:#fca5a5; }
.filter-chip-status-green .filter-chip-label { color:#065f46; }
.filter-chip-status-yellow .filter-chip-label { color:#92400e; }
.filter-chip-status-red .filter-chip-label { color:#991b1b; }

@media (prefers-reduced-motion: reduce) {
	.filter-chip, .filter-chip-clear-all { transition:none !important; }
}

/* Color variants */
.summary-spotlight-green { --spot-ico-from:#10b981; --spot-ico-to:#059669; --spot-accent-bg:rgba(16,185,129,0.3); --spot-accent-fade:rgba(5,150,105,0.18); --spot-bar-from:#10b981; --spot-bar-to:#059669; }
.summary-spotlight-amber { --spot-ico-from:#f59e0b; --spot-ico-to:#d97706; --spot-accent-bg:rgba(245,158,11,0.32); --spot-accent-fade:rgba(234,179,8,0.2); --spot-bar-from:#f59e0b; --spot-bar-to:#d97706; }
.summary-spotlight-cyan { --spot-ico-from:#06b6d4; --spot-ico-to:#0ea5e9; --spot-accent-bg:rgba(6,182,212,0.34); --spot-accent-fade:rgba(14,165,233,0.22); --spot-bar-from:#06b6d4; --spot-bar-to:#0ea5e9; }

@media (prefers-reduced-motion: reduce) {
	.summary-spotlight:before { animation:none !important; }
}

/* Collapsible sources styling override inside summary tiles */
.summary-tile .summary-sources { margin-top:.4rem; }
.summary-tile .summary-sources > summary { background:linear-gradient(90deg,#e2f3ff,#ffffff); border:1px solid #d0e4f2; padding:.45rem .75rem; border-radius:12px; font-weight:600; color:#0f3a53; position:relative; box-shadow:0 2px 4px -2px rgba(15,23,42,0.25); transition:background .35s, color .35s, box-shadow .35s; }
.summary-tile .summary-sources > summary:hover { background:linear-gradient(90deg,#ffffff,#e2f7ff); color:#082132; }
.summary-tile .summary-sources[open] > summary { background:linear-gradient(90deg,#38bdf8,#0ea5e9); color:#fff; box-shadow:0 4px 18px -6px rgba(14,165,233,0.6); }
.summary-sources ul { margin-top:.6rem; background:rgba(255,255,255,0.85); border:1px solid #c5d9e7; border-radius:14px; padding:.6rem .75rem; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.4),0 2px 8px -2px rgba(15,23,42,0.25); }
.summary-sources ul li { border-left:2px solid #cbd5e1; padding-left:6px; font-size:.66rem; font-weight:500; color:#334155; }
.summary-sources ul li:hover { border-color:#0ea5e9; color:#0f172a; }

/* Motion preference respect */
@media (prefers-reduced-motion: reduce) {
	.summary-tile, .summary-tile:after, .summary-tile:before, .summary-pill::after { animation:none !important; transition:none !important; }
}
